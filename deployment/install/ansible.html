

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using the Ansible Playbook &mdash; Digital Rebar Docs</title>
    
    <link rel="stylesheet" href="../../static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/underscore.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <script type="text/javascript" src="../../static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../../static/digitalrebar.ico"/>
    <link rel="top" title="Digital Rebar Docs" href="../../README.html" />
    <link rel="up" title="Deploy Guide" href="../README.html" />
    <link rel="next" title="Run-In-System for Linux System" href="linux.html" />
    <link rel="prev" title="Digital Rebar Install" href="../install.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="linux.html" title="Run-In-System for Linux System"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../install.html" title="Digital Rebar Install"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../README.html">Digital Rebar</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../README.html" accesskey="U">Deploy Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../README.html">
              <img class="logo" src="../../static/digital_rebar_small.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../README.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using the Ansible Playbook</a><ul>
<li><a class="reference internal" href="#what-s-installed">What&#8217;s installed?</a><ul>
<li><a class="reference internal" href="#step-1-install-docker-docker-compose">Step 1. Install Docker &amp; Docker Compose</a><ul>
<li><a class="reference internal" href="#step-2-download-code-prerequists">Step 2. Download Code &amp; Prerequists</a></li>
<li><a class="reference internal" href="#step-3-deploy-infrastructure-containers">Step 3. Deploy infrastructure containers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#housekeeping-notes">Housekeeping Notes</a><ul>
<li><a class="reference internal" href="#step-4-provision-nodes">Step 4. Provision Nodes!</a></li>
</ul>
</li>
<li><a class="reference internal" href="#kvm-nodes-high-fidelity-test">KVM Nodes (high fidelity test)</a></li>
<li><a class="reference internal" href="#real-hardware">Real Hardware</a></li>
<li><a class="reference internal" href="#virtual-box-generally-for-mac-or-windows-users">Virtual Box (generally for Mac or Windows users)</a><ul>
<li><a class="reference internal" href="#step-5-install-workloads">Step 5. Install Workloads</a></li>
<li><a class="reference internal" href="#command-reference">Command Reference</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-options">Configuration Options</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../install.html"
                        title="previous chapter">Digital Rebar Install</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="linux.html"
                        title="next chapter">Run-In-System for Linux System</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/deployment/install/ansible.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="using-the-ansible-playbook">
<h1>Using the <a class="reference external" href="http://ansible.com">Ansible</a> Playbook<a class="headerlink" href="#using-the-ansible-playbook" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-contents">
<p class="topic-title first">Table Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#using-the-ansible-playbook" id="id20">Using the Ansible Playbook</a></li>
</ul>
</div>
<p>The Digital Rebar playbook starts in <a class="reference external" href="https://github.com/rackn/digitalrebar-deploy/digitalrebar.yml">digitalrebar.yml</a> and uses the <a class="reference external" href="https://github.com/rackn/digitalrebar-deploy/tasks">tasks</a> and <a class="reference external" href="https://github.com/rackn/digitalrebar-deploy/group_vars">group vars</a> to drive configuration.</p>
<p>The playbook is driven by a set of scripts handle accessing the system be it linux-based (remote or local), Mac OSX, or in a metal provider (Packet).</p>
<p>Check the <a class="reference external" href="https://github.com/rackn/digitalrebar-deploy">scripts</a> to see how to run the playbook.  <em>run-in-xxx.sh</em></p>
<div class="section" id="what-s-installed">
<h2>What&#8217;s installed?<a class="headerlink" href="#what-s-installed" title="Permalink to this headline">¶</a></h2>
<p>The following is done by default:</p>
<blockquote>
<div><ul>
<li><p class="first">all prerequisites including latest Docker with correct permissions</p>
</li>
<li><p class="first">latest Digital Rebar code from develop branch</p>
</li>
<li><dl class="first docutils">
<dt>Node target operating systems:</dt>
<dd><ul class="first last simple">
<li>Ubuntu 14.04 and Centos 7 ISO</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Default IP maps for Digital Rebar:</dt>
<dd><ul class="first last simple">
<li>internal address of 192.168.124.11</li>
<li>port mapping of UI (:3000) and Consul (:8500)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>All of these can be altered by the group_vars/all.yml.</p>
<div class="section" id="step-1-install-docker-docker-compose">
<h3>Step 1. Install Docker &amp; Docker Compose<a class="headerlink" href="#step-1-install-docker-docker-compose" title="Permalink to this headline">¶</a></h3>
<p>WARNING: freshness matters for Docker, do NOT use <em>apt-get</em> or <em>yum</em>!</p>
<p>Follow the <a class="reference external" href="http://docs.docker.io/en/latest/installation/">Docker install guide</a></p>
<ul class="simple">
<li>Install Docker. <a class="footnote-reference" href="#id11" id="id1">[11]</a></li>
<li>Get permission to run Docker without sudo. <a class="footnote-reference" href="#id12" id="id2">[12]</a></li>
<li>Turn off Apparmor <a class="footnote-reference" href="#id13" id="id3">[13]</a> (<a class="reference external" href="deployment/">production deploy</a> could be configured to leave on)</li>
<li>Map a local address (192.168.124.10/24) to the docker bridge <a class="footnote-reference" href="#id14" id="id4">[14]</a> (required to boot VMs or metal)</li>
</ul>
<p>Follow the <a class="reference external" href="https://docs.docker.com/compose/install/">Compose install guide</a> using VERSION = 1.4.0 (as of Sept 2015)</p>
<p>Want to see step by step? See <a class="reference external" href="https://github.com/rackn/digitalrebar-deploy/blob/master/tasks/docker.yml">RackN Docker Install Ansible Playbook</a></p>
<div class="section" id="step-2-download-code-prerequists">
<h4>Step 2. Download Code &amp; Prerequists<a class="headerlink" href="#step-2-download-code-prerequists" title="Permalink to this headline">¶</a></h4>
<p>These steps are for <strong>default</strong> configuration.  Advanced configurations can adapt to more complex environments.</p>
<ul>
<li><dl class="first docutils">
<dt>Make sure you have <em>disabled</em> the following services locally:</dt>
<dd><ul class="first last simple">
<li>rails: local web apps on :3000</li>
<li>consul: UI on :8500</li>
<li>when starting Compose, you will be alerted of port conflicts with <a class="reference external" href="docker-compose-common.yml">assigned port conflicts</a> .</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Create an ssh key <a class="footnote-reference" href="#id15" id="id5">[21]</a> for Digital Rebar to copy into your nodes.</p>
</li>
<li><p class="first">(optional) Download at least one ISO <a class="footnote-reference" href="#id16" id="id6">[22]</a> from the list in <a class="reference external" href="https://github.com/digitalrebar/core/blob/develop/barclamps/provisioner.yml#L135">provisioner.yml</a> and copy to <code class="docutils literal"><span class="pre">~/.cache/digitalrebar/tftpboot/isos</span></code>.  This step is required to provision bare metal or unimaged VMs using <code class="docutils literal"><span class="pre">kvm-slave</span></code>.</p>
</li>
<li><p class="first">Install git.</p>
</li>
<li><p class="first">Clone the RackN Digital Rebar Deploy: <code class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/rackn/digitalrebar-deploy.git</span> <span class="pre">deploy</span></code></p>
</li>
<li><dl class="first docutils">
<dt>Run <code class="docutils literal"><span class="pre">compose/setup.sh</span></code> to clone the Digital Rebar code base from Github into the <code class="docutils literal"><span class="pre">components/rebar/digitalrebar/core</span></code> directory.</dt>
<dd><ul class="first last simple">
<li>Copy desired ssh keys into the compose digitalrebar core configuration ssh_keys directory <a class="footnote-reference" href="#id17" id="id7">[23]</a></li>
<li>Add workloads to the base by passing them as parameters.  Examples are <code class="docutils literal"><span class="pre">kubernetes</span></code>, <code class="docutils literal"><span class="pre">ceph</span></code> and <code class="docutils literal"><span class="pre">hardware</span></code>.  This simply clones additional repos next to the core repo.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">(optional) Link the Digital Rebar code path <a class="footnote-reference" href="#id18" id="id8">[24]</a> from the compose components directory to your home directory.</p>
</li>
</ul>
</div>
<div class="section" id="step-3-deploy-infrastructure-containers">
<h4>Step 3. Deploy infrastructure containers<a class="headerlink" href="#step-3-deploy-infrastructure-containers" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>From the <code class="docutils literal"><span class="pre">compose</span></code> directory, run <code class="docutils literal"><span class="pre">./init_files.sh</span> <span class="pre">--access</span> <span class="pre">FORWARDER</span> <span class="pre">--provisioner</span></code>.  This will create the required .yml files for docker-compose.  To see what other options are available for <code class="docutils literal"><span class="pre">init_files.sh</span></code>, you can also run <code class="docutils literal"><span class="pre">./init_files.sh</span> <span class="pre">--help</span></code>.</li>
<li>FIRST INSTALL? The first install is slow because you have to pull the images, do this interactively using <code class="docutils literal"><span class="pre">docker-compose</span> <span class="pre">pull</span></code>.  Once the images are local there is minimal network interaction.  You should re-pull the containers (and the deploy git repository) on a regular basis to keep up to date with the changes to the containers.</li>
<li>From the <code class="docutils literal"><span class="pre">compose</span></code> directory, run <code class="docutils literal"><span class="pre">docker-compose</span> <span class="pre">up</span> <span class="pre">-d</span></code> to start the process.  If it does not come up the first time, try to reset the environement (steps below),</li>
</ol>
<p>After a few minutes, the rebar-api-service will be available on <a class="reference external" href="http://127.0.0.1:3000">http://127.0.0.1:3000</a></p>
<p>You can monitor the progress in several ways:</p>
<ol class="arabic simple">
<li>Use <code class="docutils literal"><span class="pre">docker-compose</span> <span class="pre">logs</span> <span class="pre">rebar_api</span></code> to send logs to the screen.  The command example shows how select one component to watch.</li>
<li>The Digital Rebar Consul service comes up quickly on <a class="reference external" href="http://127.0.0.1:8500">http://127.0.0.1:8500</a>.  There should be a list of approximately 10 services.  You can login once the &#8220;rebar-api-service&#8221; is passing.</li>
<li>A Kibana logstash service is running on <a class="reference external" href="http://127.0.0.1:5601">http://127.0.0.1:5601</a>.  Select a timestamp and then visit the Discover tab.</li>
<li><code class="docutils literal"><span class="pre">docker-compose</span> <span class="pre">ps</span></code> will show you the status of the services and associated port mappings.</li>
<li><code class="docutils literal"><span class="pre">docker</span> <span class="pre">ps</span></code> will show you the status of the containers</li>
</ol>
<p>To reset the environment, you must stop and then remove <a class="footnote-reference" href="#id19" id="id9">[32]</a> the containers.</p>
<p>After the install has progressed (the <code class="docutils literal"><span class="pre">rebar-api-service</span></code> is up in <a class="reference external" href="http://127.0.0.1:8500">Consul</a> ), you should be able to monitor the progress of the Admin container at <a class="reference external" href="http://localhost:3000">http://localhost:3000</a>.</p>
<p>You can connect to any container using <code class="docutils literal"><span class="pre">docker</span> <span class="pre">exec</span> <span class="pre">-it</span> <span class="pre">[name]</span> <span class="pre">bash</span></code>; however, we recommend using <a class="reference external" href="http://127.0.0.1:5601">Kibana</a> to check centralized logs first.</p>
</div>
</div>
<div class="section" id="housekeeping-notes">
<h3>Housekeeping Notes<a class="headerlink" href="#housekeeping-notes" title="Permalink to this headline">¶</a></h3>
<p>To remove Docker image cruft, we suggest running <code class="docutils literal"><span class="pre">docker</span> <span class="pre">ps</span> <span class="pre">-q</span> <span class="pre">-a</span> <span class="pre">|</span> <span class="pre">xargs</span> <span class="pre">docker</span> <span class="pre">rm</span></code> on a regular basis.</p>
<div class="section" id="step-4-provision-nodes">
<h4>Step 4. Provision Nodes!<a class="headerlink" href="#step-4-provision-nodes" title="Permalink to this headline">¶</a></h4>
<p>And now, the real fun begins!</p>
<ol class="arabic simple">
<li>Log in to Digital Rebar on <a class="reference external" href="http://127.0.0.1:3000">http://127.0.0.1:3000</a> using default user <code class="docutils literal"><span class="pre">rebar</span></code> and password <code class="docutils literal"><span class="pre">rebar1</span></code></li>
<li>Wait for the first annealing pass to complete (all marks are green).  Please be patient on the first run because Digital Rebar is building and caching provisioning images (during <code class="docutils literal"><span class="pre">provisioner-base-images</span></code> role) from the downloaded ISOs</li>
</ol>
<p>If this is your first install, the Docker and KVM nodes approach will allow you to play with Digital Rebar with minimal network configuration.</p>
</div>
</div>
<div class="section" id="kvm-nodes-high-fidelity-test">
<h3>KVM Nodes (high fidelity test)<a class="headerlink" href="#kvm-nodes-high-fidelity-test" title="Permalink to this headline">¶</a></h3>
<p>Works on Linux environments that can run KVM.  It is <strong>not compatable</strong> with simultaneous VirtualBox / Vagrant testing.</p>
<p>These instructions assume that you&#8217;ve linked <a class="footnote-reference" href="#id18" id="id10">[24]</a> the Digital Rebar code to ~/rebar.</p>
<ol class="arabic simple">
<li>Install prereqs:<ol class="arabic">
<li><code class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">qemu-kvm</span> <span class="pre">libvirt-bin</span> <span class="pre">ubuntu-vm-builder</span> <span class="pre">bridge-utils</span> <span class="pre">ruby1.9.1-dev</span> <span class="pre">make</span></code></li>
<li><code class="docutils literal"><span class="pre">gem</span> <span class="pre">install</span> <span class="pre">json</span> <span class="pre">net-http-digest_auth</span></code></li>
</ol>
</li>
<li>Under ~/rebar/core, use <code class="docutils literal"><span class="pre">tools/kvm-slave</span> <span class="pre">&amp;</span></code> to spawn a KVM virtual machine that will boot from the freshly-deployed admin node.</li>
</ol>
<p>More details? See <a class="reference external" href="development/advanced-install/kvm-slaves.rst">virtual nodes</a> for testing using KVM.</p>
</div>
<div class="section" id="real-hardware">
<h3>Real Hardware<a class="headerlink" href="#real-hardware" title="Permalink to this headline">¶</a></h3>
<p>To boot Real Hardware, bind a physical interface to docker0 with brctl,
make sure that interface is up and does not have an address, and plug it
in to a switch that has the physical boxes you want to boot.</p>
<p>Example Commands:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Install prereqs: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">bridge-utils</span></code></li>
<li>(optional) To configure RAID or BIOS, you need the RackN Hardware workload.
#. Clone the RackN Hardware workload: <code class="docutils literal"><span class="pre">compose/workload.sh</span> <span class="pre">rackn</span> <span class="pre">hardware</span></code>
#. Download the required tools.  See <a class="reference external" href="https://github.com/rackn/hardware/blob/master/doc/README.md">RackN Hardware Docs</a></li>
<li>slave the eth2 to the docker bridge, <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">brctl</span> <span class="pre">addif</span> <span class="pre">docker0</span> <span class="pre">eth2</span></code></li>
<li>turn on eth2 for the bridge, <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">ip</span> <span class="pre">link</span> <span class="pre">set</span> <span class="pre">eth2</span> <span class="pre">up</span></code></li>
<li>boot the physical nodes from a switch connected to eth2</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="virtual-box-generally-for-mac-or-windows-users">
<h3>Virtual Box (generally for Mac or Windows users)<a class="headerlink" href="#virtual-box-generally-for-mac-or-windows-users" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>This approach simulates the same steps as metal, so it expects that you&#8217;ve created a VM to host the
Admin container.  If so, make sure you added an ethernet device (not
up&#8217;d) to your VM that will be the admin network for slave VMs. Also,
if using vmware, you&#8217;ll need to use E1000 Nics and make sure your
network settings are set to &#8220;Allow&#8221; promiscuous mode.</div></blockquote>
<p>If your development environment is running in VMs then:</p>
<ol class="arabic simple">
<li>make sure that your Admin VM has an extra eth port connected to a
dedicated host only bridge (let&#8217;s assume eth2)</li>
<li>slave the eth2 to the docker bridge,
<code class="docutils literal"><span class="pre">sudo</span> <span class="pre">brctl</span> <span class="pre">addif</span> <span class="pre">docker0</span> <span class="pre">eth2</span></code></li>
<li>turn on eth2 for the bridge, <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">ip</span> <span class="pre">link</span> <span class="pre">set</span> <span class="pre">eth2</span> <span class="pre">up</span></code></li>
<li>create a VM with eth0<ol class="arabic">
<li>attached to the dedicated host only bridge</li>
<li>make sure it is able to network boot</li>
</ol>
</li>
<li>boot the VM<ol class="arabic">
<li>it should PXE boot</li>
<li>the VM should register and automatically progress in the system
deployment</li>
<li>if you have issues, review the <code class="docutils literal"><span class="pre">/var/log/install.log</span></code> for
details</li>
</ol>
</li>
</ol>
<div class="section" id="step-5-install-workloads">
<h4>Step 5. Install Workloads<a class="headerlink" href="#step-5-install-workloads" title="Permalink to this headline">¶</a></h4>
<p>From the Digital Rebar UI, you can use one of the Deployment...Wizards to select roles to install on available nodes.  Once you have selected roles for nodes, you must &#8220;commit&#8221; the deployment.</p>
</div>
<div class="section" id="command-reference">
<h4>Command Reference<a class="headerlink" href="#command-reference" title="Permalink to this headline">¶</a></h4>
<p><strong>WARNING</strong>: These suggestions may become out of date.  We strongly recommend reviewing the actively maintained <a class="reference external" href="https://github.com/rackn/digitalrebar-deploy">deploy scripts</a>.</p>
<p>Step 1 Items:</p>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[11]</a></td><td><code class="docutils literal"><span class="pre">curl</span> <span class="pre">-sSL</span> <span class="pre">https://get.docker.com/</span> <span class="pre">-o</span> <span class="pre">/tmp/docker.sh</span> <span class="pre">|</span> <span class="pre">sh</span></code></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[12]</a></td><td><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">usermod</span> <span class="pre">-a</span> <span class="pre">-G</span> <span class="pre">docker</span> <span class="pre">&lt;your-user&gt;</span></code>
plus, if you don&#8217;t want to reboot right away, run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">chmod</span> <span class="pre">666</span> <span class="pre">/var/run/docker.sock</span></code> to temporarily allow everyone access.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id13" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[13]</a></td><td><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">apparmor</span> <span class="pre">teardown</span></code> and <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">update-rc.d</span> <span class="pre">-f</span> <span class="pre">apparmor</span> <span class="pre">remove</span></code></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[14]</a></td><td><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">ip</span> <span class="pre">a</span> <span class="pre">add</span> <span class="pre">192.168.124.10/24</span> <span class="pre">dev</span> <span class="pre">docker0</span></code></td></tr>
</tbody>
</table>
<p>Step 2 Items:</p>
<table class="docutils footnote" frame="void" id="id15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[21]</a></td><td><code class="docutils literal"><span class="pre">ssh-keygen</span> <span class="pre">-t</span> <span class="pre">rsa</span></code></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[22]</a></td><td><p class="first">ISO download steps:</p>
<ol class="last arabic simple">
<li><code class="docutils literal"><span class="pre">mkdir</span> <span class="pre">-p</span> <span class="pre">.cache/digitalrebar/tftpboot/isos</span></code></li>
<li><code class="docutils literal"><span class="pre">cd</span> <span class="pre">.cache/digitalrebar/tftpboot/isos</span></code></li>
<li>Choose one or both:<ol class="arabic">
<li><code class="docutils literal"><span class="pre">wget</span> <span class="pre">http://mirrors.kernel.org/centos/7.1.1503/isos/x86_64/CentOS-7-x86_64-Minimal-1503-01.iso</span> <span class="pre">-nc</span></code></li>
<li><code class="docutils literal"><span class="pre">wget</span> <span class="pre">http://mirrors.kernel.org/ubuntu-releases/trusty/ubuntu-14.04.3-server-amd64.iso</span> <span class="pre">-nc</span></code></li>
</ol>
</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id17" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[23]</a></td><td><code class="docutils literal"><span class="pre">cp</span> <span class="pre">~/.ssh/id_rsa.pub</span> <span class="pre">deploy/compose/digitalrebar/core/config/ssh_keys/setup-0.key</span></code></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id18" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[24]</td><td><em>(<a class="fn-backref" href="#id8">1</a>, <a class="fn-backref" href="#id10">2</a>)</em> <code class="docutils literal"><span class="pre">-s</span> <span class="pre">~/deploy/compose/components/rebar_api/digitalrebar/</span> <span class="pre">rebar</span></code></td></tr>
</tbody>
</table>
<p>Step 3 Items:</p>
<table class="docutils footnote" frame="void" id="id19" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[32]</a></td><td><code class="docutils literal"><span class="pre">docker-compose</span> <span class="pre">stop</span> <span class="pre">&amp;&amp;</span> <span class="pre">docker-compose</span> <span class="pre">rm</span></code></td></tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="configuration-options">
<h2>Configuration Options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>The following options are available to be modified in the <a class="reference external" href="https://github.com/rackn/digitalrebar-deploy/group_vars/all.yml">group_vars/all.yml</a> file.  The file contains documentation for each var, but additional detail is specified in the table below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="22%" />
<col width="24%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Key</em></td>
<td><em>Values</em></td>
<td><em>Default</em></td>
<td><em>Notes</em></td>
</tr>
<tr class="row-even"><td>dr_services</td>
<td>&nbsp;</td>
<td>jj</td>
<td>jj</td>
</tr>
<tr class="row-odd"><td>dr_workload</td>
<td>jj</td>
<td>jj</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<div class="highlight-shell"><div class="highlight"><pre><span></span>&lt;h1&gt;code block example&lt;/h1&gt;
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="linux.html" title="Run-In-System for Linux System"
             >next</a> |</li>
        <li class="right" >
          <a href="../install.html" title="Digital Rebar Install"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../README.html">Digital Rebar</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../README.html" >Deploy Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, RackN team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>