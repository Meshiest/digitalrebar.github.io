

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Provising Process &mdash; Digital Rebar Docs</title>
    
    <link rel="stylesheet" href="../static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../static/digitalrebar.ico"/>
    <link rel="top" title="Digital Rebar Docs" href="../README.html" />
    <link rel="up" title="Deploy Guide" href="README.html" />
    <link rel="next" title="Digital Rebar Troubleshooting Tips" href="troubleshooting.html" />
    <link rel="prev" title="Provider Usage" href="provider.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="troubleshooting.html" title="Digital Rebar Troubleshooting Tips"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="provider.html" title="Provider Usage"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../README.html">DRebar</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="README.html" accesskey="U">Deploy Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../README.html">
              <img class="logo" src="../static/digital_rebar_small.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="provider.html"
                        title="previous chapter">Provider Usage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="troubleshooting.html"
                        title="next chapter">Digital Rebar Troubleshooting Tips</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/deployment/provisioning.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="provising-process">
<h1>Provising Process<a class="headerlink" href="#provising-process" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Overview</strong></p>
<p>The Provisioner provides the roles and recipes to set up the
provisioning server and a base environment for all provisioned nodes.
The Provisioner also provides the transition entry point for nodes that
require DHCP transitions completed. The Provisioner assumes that
addressing will be handled outside of this barclamp.</p>
<p><strong>Roles</strong></p>
<p>The following node roles are defined:</p>
<ul class="simple">
<li>Provisioner-server<ul>
<li>Configures the system to run the provisioning services (TFTP, Web
server with apt packages, APT repository)</li>
</ul>
</li>
<li>Provisioner-service<ul>
<li>Allows for the injection of the provisioner information into other
components</li>
</ul>
</li>
<li>DHCP-server<ul>
<li>Provides a DHCP server for doing initial device discovery</li>
<li>Points to the provisioner-service</li>
</ul>
</li>
<li>DHCP-database<ul>
<li>Updates the DHCP information based upon the bootenv properties.</li>
</ul>
</li>
<li>Provisioner-database<ul>
<li>Updates the provisioner boot information based upon the bootenv
properties</li>
</ul>
</li>
<li>Provisioner-repos<ul>
<li>Makes sure that the apt/yum repository is configured and a root
ssh key is deployed</li>
</ul>
</li>
<li>Provisioner-setup-base<ul>
<li>Prepares boot environments from ISOs</li>
</ul>
</li>
</ul>
<p><strong>Workflow</strong></p>
<p>The provisioner provides the Sledgehammer discovery image. It is
expected that there is a DHCP server (provided by Digital Rebar or external
to Digital Rebar) that will allocate an address and point to the
provisioner.</p>
<p>The Sledgehammer discovery image will register the node in Digital Rebar
and allocate an admin address. Once the node is created, the database
roles will update the provisioner and DHCP server to enable future
control for operating system installation, local booting, or other boot
environments as needed.</p>
<p>New operating systems can be seen <a class="reference external" href="../deployment-guide/adding-operating-systems.md">Adding Operating
Systems</a>.</p>
<p>After an operating system is installed, the system injects code to
update Digital Rebar and informs it that the node has completed installation. The
database roles will update the provisioner and DHCP servers to automatically boot from
local drives.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="troubleshooting.html" title="Digital Rebar Troubleshooting Tips"
             >next</a> |</li>
        <li class="right" >
          <a href="provider.html" title="Provider Usage"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../README.html">DRebar</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="README.html" >Deploy Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, RackN team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>