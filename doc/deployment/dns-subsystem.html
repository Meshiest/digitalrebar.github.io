

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>DNS Subsystem &mdash; Digital Rebar 3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="top" title="Digital Rebar 3.0 documentation" href="../README.html" />
    <link rel="up" title="Deploy Guide" href="README.html" />
    <link rel="next" title="Digital Rebar Info (.dr_info)" href="dr_info.html" />
    <link rel="prev" title="Digital Rebar Directory Structure" href="directory-layout.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dr_info.html" title="Digital Rebar Info (.dr_info)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="directory-layout.html" title="Digital Rebar Directory Structure"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../README.html">Digital Rebar 3.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="README.html" accesskey="U">Deploy Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../README.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">DNS Subsystem</a><ul>
<li><a class="reference internal" href="#dns-server-and-service">DNS Server and Service</a></li>
<li><a class="reference internal" href="#dns-management-server-and-service">DNS Management Server and Service</a></li>
<li><a class="reference internal" href="#dns-name-filters">DNS Name Filters</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="directory-layout.html"
                        title="previous chapter">Digital Rebar Directory Structure</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dr_info.html"
                        title="next chapter">Digital Rebar Info (.dr_info)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/deployment/dns-subsystem.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="dns-subsystem">
<h1>DNS Subsystem<a class="headerlink" href="#dns-subsystem" title="Permalink to this headline">¶</a></h1>
<p>The DNS Subsystem consists of three components: the server, management
server, and filters.</p>
<div class="section" id="dns-server-and-service">
<h2>DNS Server and Service<a class="headerlink" href="#dns-server-and-service" title="Permalink to this headline">¶</a></h2>
<p>The DNS server can be provided by the Digital Rebar system or
an external one can be used. Currently, the Digital Rebar DNS server is BIND. The BIND
server will set up everything needed run a DNS server. External DNS
server can be anything, but needs to be injected into the consul
services. This is done in rebar-config.sh. See that file for how to
select a server.</p>
</div>
<div class="section" id="dns-management-server-and-service">
<h2>DNS Management Server and Service<a class="headerlink" href="#dns-management-server-and-service" title="Permalink to this headline">¶</a></h2>
<p>The management server is used to rebuild files and inject information into the DNS server and runs on the same system as the BIND DNS server. The management server can also manage a PowerDNS server
through its HTTP API (version 3.4.5 or higher). In that case, the management server
can be on any system. Currently, only external PowerDNS
servers can be managed remotely. The management server needs
additional information like access token and
are provided as consul key/value pairs associated with the external
PowerDNS service injected into consul. These are also specified in
rebar-config.sh along with external service registration.</p>
</div>
<div class="section" id="dns-name-filters">
<h2>DNS Name Filters<a class="headerlink" href="#dns-name-filters" title="Permalink to this headline">¶</a></h2>
<p>The third component of the DNS subsystem are filters. The Name filters
provide a mechanism to generate names for address allocations on nodes.
These name/IP pairs are sent to a specified DNS management service to
handle updating the DNS server. Filters are ordered and evaluated. Once
matched, a name is generated and the service is called. A template system
is used to generate names from node attributes. All matching filters
will be applied.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dr_info.html" title="Digital Rebar Info (.dr_info)"
             >next</a> |</li>
        <li class="right" >
          <a href="directory-layout.html" title="Digital Rebar Directory Structure"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../README.html">Digital Rebar 3.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="README.html" >Deploy Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, RackN team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>